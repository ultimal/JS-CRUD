# JS-CRUD
JS-CRUD is the result of searching for a in browser CRUD that is simple to implement and quick to grab data from. In my search I was unable to find something similar and so I decided to put this quick library together. This library is a part of a large effort to build hydration kits to enable designing and deploying enterprise software with minimal effort.

This page details the most common usage scenarios and the architecture of this library.

## Introduction
JS-CRUD makes it easy to present data collection forms to end users. It keeps all information in browser memory and that information can easily be sent off to a web server for safe storage or kept in memory for further processing. Data collection forms are presented in tabular form. It is designed for bootstrap, so all forms are responsive and will scale automatically.

### Features
This library provides the following features:
 - Clean format
 - Custom table lengths
 - Two fields to choose from: *Text* or *Dropdown*
 - Automatic populating of data into *dropdown* boxes from other tables
 - Delegate based table update mechanism

## Usage
This library is designed to make it easy to integrate into existing web applications. To implement a CRUD, the following is required:
 - An empty *DIV*.
 - One line of Javascript code.
 
This section covers common use scenarios.

### Simple Table
A simple table would contain 1 or more columns. If it is a 1 column table, it can also update dropdowns in other tables. In this example a simple table is created and it is setup to update the dropdown in the table from the next example.

[![](https://cldup.com/PsICeLpMUZ.PNG)]()

```
// Create a table for Server Roles
var server_roles = new CustomTable(
  // Name of the variable being instantiated, for onclick events
  "server_roles",
  // ID of the div where to draw this table
  "server_roles",
  // List of all column headers
  ["Role Name"],
  // List of all the fields in the table and their type and place holder text
  [
    ["role_name","text","Server Role Name"]
  ],
  // Delegate function to call on Add or Remove events
  "servers.update_field_data([\"role\",server_roles.item_list]);"
);
```

### Table with Dropdowns
This example demonstrates how to create a table with dropdowns that are dynamically populate based on what the table in the first example contains. The delegate code from the first example executes on *Add* or *Remove* and updates the dropdown in this table.

[![](https://cldup.com/PydF1Cqx4M.PNG)]()

```
// Create a table for Servers
var servers = new CustomTable(
  // Variable name for click events
  "servers",
  // Name of the div where to draw the table
  "server_list",
  // List of all the columns in the table
  ["Server Name", "IP Address", "RAM in GB", "Site", "Role"],
  // List of input fields to display
  [
    ["server_name","text","Server Name"],
    ["ip_address","text","IP Address"],
    ["ram","dropdown",["2GB","4GB","8GB"]],
    ["site","dropdown",""],
    ["role","dropdown",""]
  ],
  // Delegate function to be called whenever data is updated in table
  ""
);
```
## Architecture
JS-CRUD contains simple Javascript code and is laid out for easy understanding. Here I provide some details about the inner workings of this library.

### Class Diagram
This is a simple class with a set of properties, that hold all class data and methods to act on this data.

[![](https://cldup.com/wFnpHU3OOe.png)]()

### Properties
JS-CRUD contains the following properties:
 - variable_name
   - Name of the variable this class was instantiated into. This is used in the generated code in *onclick* events.
 - div
   - *ID* of the *DIV* where to draw the table.
 - header_titles
   - Titles of all the columns in the table. The serial number column is autogenerated and doesn't need to be listed here.
 - input_fields
   - List of all the fields that will be used to collect data from the user.
 - item_list
   - This is an internal variable. All table data is stored here in the form of a 2-Dimensional Array (Array of Arrays).
 - update_delegate
   - This code is injected into the *onclick* event of the *Add* and *Remove* buttons. It is executed everytime any of these buttons are pressed.
 
### Methods
JS-CRUD contains the following methods:
 - update_field_data (Array)
   - Updates the dropdown box in another table with the contents of this table.
 - add_item (Array)
   - Adds an item to the table using Javascript.
 - add_item_from_fields ()
   - Adds an item to the table using the input fields.
 - remove_item (Int)
   - Removes and item from the table. This function is called from the generated table.
 - drawTable ()
   - Creates the table in the *div* provided when instantiating the class.
 
## Notes
There is a lot of ways this library can be expanded to allow for much more functionality. The class also needs to be cleaned up further and the code needs to be streamlined. Since this code runs in the browser, it is realitvely safe for what I need it for.
